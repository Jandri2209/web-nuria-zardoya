backend:
  name: git-gateway
  branch: main

media_folder: "assets/uploads"
public_folder: "/assets/uploads"

publish_mode: editorial_workflow
locale: "es"

slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "-"

collections:
  # 1) Páginas fijas
  - name: "paginas"
    label: "Páginas"
    delete: false
    files:
      - label: "Inicio"
        name: "index"
        file: "index.html"
        preview_path: "/"
        fields:
          - { label: "Título", name: "title", widget: "string" }
          - { label: "Descripción", name: "description", widget: "text", required: false }
          - { label: "Contenido", name: "body", widget: "markdown", required: false }

      - label: "Quién soy"
        name: "quien-soy"
        file: "quien-soy.html"
        preview_path: "quien-soy/"
        fields:
          - { label: "Título", name: "title", widget: "string" }
          - { label: "Descripción", name: "description", widget: "text", required: false }
          - { label: "Contenido", name: "body", widget: "markdown", required: false }

      - label: "Servicios"
        name: "servicios"
        file: "servicios.html"
        preview_path: "servicios/"
        fields:
          - { label: "Título", name: "title", widget: "string" }
          - { label: "Descripción", name: "description", widget: "text", required: false }
          - { label: "Contenido", name: "body", widget: "markdown", required: false }

      - label: "Contacto"
        name: "contacto"
        file: "contacto.html"
        preview_path: "contacto/"
        fields:
          - { label: "Título", name: "title", widget: "string" }
          - { label: "Descripción", name: "description", widget: "text", required: false }
          - { label: "Contenido", name: "body", widget: "markdown", required: false }

      - label: "Pide tu cita"
        name: "cita"
        file: "pide-tu-cita.html"
        preview_path: "pide-tu-cita/"
        fields:
          - { label: "Título", name: "title", widget: "string" }
          - { label: "Descripción", name: "description", widget: "text", required: false }
          - { label: "Contenido", name: "body", widget: "markdown", required: false }

      - label: "Blog"
        name: "blog-page"
        file: "blog.html"
        preview_path: "blog/"
        fields:
          - { label: "Título", name: "title", widget: "string" }
          - { label: "Descripción", name: "description", widget: "text", required: false }
          - { label: "Contenido", name: "body", widget: "markdown", required: false }

      - label: "Aviso Legal"
        name: "legal"
        file: "legal.html"
        preview_path: "legal/"
        fields:
          - { label: "Título", name: "title", widget: "string" }
          - { label: "Contenido", name: "body", widget: "markdown", required: false }

      - label: "Privacidad"
        name: "privacidad"
        file: "privacidad.html"
        preview_path: "privacidad/"
        fields:
          - { label: "Título", name: "title", widget: "string" }
          - { label: "Contenido", name: "body", widget: "markdown", required: false }

      - label: "Cookies"
        name: "cookies"
        file: "cookies.html"
        preview_path: "cookies/"
        fields:
          - { label: "Título", name: "title", widget: "string" }
          - { label: "Contenido", name: "body", widget: "markdown", required: false }

      - label: "Gracias"
        name: "gracias"
        file: "gracias.html"
        preview_path: "gracias/"
        fields:
          - { label: "Título", name: "title", widget: "string" }
          - { label: "Contenido", name: "body", widget: "markdown", required: false }

  # 2) Recetas (colección)
  - name: "recetas"
    label: "Recetas"
    label_singular: "Receta"
    folder: "recetas"
    create: true
    extension: "md"
    format: "frontmatter"
    slug: "{{slug}}"
    preview_path: "recetas/{{slug}}/"
    fields:
      # ⚙️ Asegura el layout correcto para la plantilla nueva
      - { label: "Título", name: "title", widget: "string" }
      - { label: "Fecha", name: "date", widget: "datetime", format: "YYYY-MM-DD", time_format: false }
      - { label: "Descripción", name: "description", widget: "text", hint: "Frase breve que aparecerá bajo el título.", required: false }
      - { label: "Imagen principal", name: "image", widget: "image" }
      - { label: "Categoría", name: "category", widget: "select", options: ["Plato principal","Desayuno","Ensalada","Sopa/Crema","Snack","Postre","Bebida"], required: false }
      - { label: "Raciones", name: "servings", widget: "number", min: 1, required: false }
      - { label: "Tiempo (min)", name: "time", widget: "number", min: 0, required: false }
      - { label: "Dificultad", name: "difficulty", widget: "select", options: ["Fácil","Media","Difícil"], required: false }

      - label: "Ingredientes"
        name: "ingredients"
        widget: "list"
        required: false
        field: { label: "Ingrediente", name: "item", widget: "string" }

      - label: "Preparación (pasos)"
        name: "steps"
        widget: "list"
        required: false
        field: { label: "Paso", name: "step", widget: "text" }

      - { label: "URL de Instagram (opcional)", name: "instagram_url", widget: "string", required: false }
      - { label: "Embed de Instagram (pega el código)", name: "instagram_embed", widget: "text", required: false }

      # 📝 Contenido extra en Markdown (se renderiza donde pusimos {{ content | safe }})
      - { label: "Contenido extra (Markdown)", name: "body", widget: "markdown", required: false }

  # 3) Blog (entradas)
  - name: "blog"
    label: "Blog"
    label_singular: "Entrada"
    folder: "blog"
    create: true
    extension: "md"
    format: "frontmatter"
    slug: "{{slug}}"
    preview_path: "blog/{{slug}}/"
    fields:
      - { label: "Título", name: "title", widget: "string" }
      - { label: "Fecha", name: "date", widget: "datetime", format: "YYYY-MM-DD", time_format: false }
      - { label: "Descripción", name: "description", widget: "text", required: false, hint: "Resumen breve bajo el título." }
      - { label: "Imagen", name: "image", widget: "image", required: false }
      - { label: "Categoría", name: "category", widget: "select", options: ["Mito","Noticia","Consejo","Otro"], required: false }

      - label: "Galería (opcional)"
        name: "gallery"
        widget: "list"
        required: false
        field: { label: "Imagen", name: "image", widget: "image" }

      - { label: "URL de Instagram (opcional)", name: "instagram_url", widget: "string", required: false, hint: "Enlace a la publicación de Instagram." }
      - { label: "Embed de Instagram (pega el código)", name: "instagram_embed", widget: "text", required: false, hint: "Pega aquí el código de inserción (Instagram > … > Embed)." }

      - { label: "Contenido", name: "body", widget: "markdown" }
