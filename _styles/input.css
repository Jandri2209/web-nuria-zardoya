@tailwind base;
@tailwind components;
@tailwind utilities;

/* =================== Tipografía =================== */
body { font-family: 'Poppins', sans-serif; }

/* Poppins autoalojada */
@font-face {
  font-family: "Poppins";
  src: url("/assets/fonts/poppins-400.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Poppins";
  src: url("/assets/fonts/poppins-500.woff2") format("woff2");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Poppins";
  src: url("/assets/fonts/poppins-600.woff2") format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Poppins";
  src: url("/assets/fonts/poppins-700.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Muy importante: gana a Preflight */
@layer base {
  html {
    font-family: "Poppins", ui-sans-serif, system-ui, -apple-system,
      "Segoe UI", Roboto, "Helvetica Neue", Arial,
      "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  }
}

/* =================== Flip cards Nuria =================== */
/* Scope a #nosiyes (NO/SÍ) y #cta-final */
#nosiyes .flip,
#cta-final .flip {
  perspective: 1200px;
}

#nosiyes .flip__inner,
#cta-final .flip__inner {
  position: relative;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform .6s cubic-bezier(.2,.7,.1,1);
}

#nosiyes .flip__face,
#cta-final .flip__face {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  backface-visibility: hidden;
  border-radius: .75rem; /* ~rounded-xl */
}

#nosiyes .flip__back,
#cta-final .flip__back {
  transform: rotateY(180deg);
}

/* Hover SOLO en desktop.
   Si el elemento tiene .nohover, se desactiva el hover (útil tras cerrar con click). */
@media (hover:hover) and (pointer:fine) {
  #nosiyes .flip:not(.nohover):hover .flip__inner {
    transform: rotateY(180deg);
  }
  #cta-final .flip:not(.nohover):hover .flip__inner {
    transform: rotateY(180deg);
  }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  #nosiyes .flip__inner,
  #cta-final .flip__inner {
    transition: none;
  }
}

/* Alturas mínimas robustas (independientes de Tailwind) */
#nosiyes .minh-112 { min-height: 112px; } /* ~7rem */
#nosiyes .minh-160 { min-height: 160px; } /* ~10rem */
#cta-final .minh-176 { min-height: 176px; } /* ~11rem */

/* Estado persistente por click/teclado */
#nosiyes .is-flipped .flip__inner,
#cta-final .is-flipped .flip__inner {
  transform: rotateY(180deg);
}

/* Accesibilidad: foco visible */
#nosiyes .flip:focus-visible,
#cta-final .flip:focus-visible {
  outline: 2px solid rgba(16,185,129,.6);
  outline-offset: 3px;
  border-radius: .75rem;
}

/* ===== Google Translate (widget en TU dominio) — ocultar UI ===== */
.goog-te-banner-frame.skiptranslate { display: none !important; }
iframe.goog-te-banner-frame         { display: none !important; } /* iframe barra superior */
#goog-gt-tt,
.goog-te-balloon-frame              { display: none !important; } /* tooltip/flotantes */
.goog-text-highlight                { background: transparent !important; box-shadow: none !important; }

/* A veces Google mete top a <body> al mostrar su barra; lo anulamos */
body { top: 0 !important; }

/* Nuestro gadget está oculto, reforzamos por si acaso */
#gt-el, .goog-te-gadget { display: none !important; }
